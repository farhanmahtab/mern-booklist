{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const signUp = createAsyncThunk(\"users/signUp\", async user => {\n  const signUp_URL = \"http://localhost:5001/api/users/signUp\";\n  let res;\n  try {} catch (err) {}\n  res = await axios.post(signUp_URL, {\n    name: user.name,\n    email: user.email,\n    password: user.password\n  });\n  console.log(res.data);\n  localStorage.setItem(\"token\", \"Bearer \" + res.data.token);\n  return res.data;\n});\nexport const logIn = createAsyncThunk(\"users/login\", async user => {\n  console.log(user);\n  const login_URL = \"http://localhost:5001/api/users/login\";\n  let res;\n  try {\n    res = await axios.post(login_URL, {\n      email: user.email,\n      password: user.password\n    });\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(res);\n  localStorage.setItem(\"token\", \"Bearer \" + res.data.token);\n  return res.data;\n});\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState: {\n    currentUser: localStorage.getItem(\"token\") || \"\"\n  },\n  reducers: {\n    logOut: state => {\n      state.currentUser = \"\";\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(signUp.pending, state => {\n      state.isLoading = true;\n    });\n    builder.addCase(signUp.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.currentUser = action.payload;\n    });\n    builder.addCase(logIn.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.currentUser = action.payload;\n    });\n  }\n});\nexport const {\n  logOut\n} = usersSlice.actions;\nexport default usersSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","signUp","user","signUp_URL","res","err","post","name","email","password","console","log","data","localStorage","setItem","token","logIn","login_URL","e","usersSlice","initialState","currentUser","getItem","reducers","logOut","state","extraReducers","builder","addCase","pending","isLoading","fulfilled","action","payload","actions","reducer"],"sources":["/home/sbh/office_Docs/redux_task/client/src/features/users/UserSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nexport const signUp = createAsyncThunk(\"users/signUp\", async (user) => {\n  const signUp_URL = \"http://localhost:5001/api/users/signUp\";\n  let res ;\n  try{\n\n  }catch(err){\n\n  }\n  res = await axios.post(signUp_URL, {\n    name: user.name,\n    email: user.email,\n    password: user.password,\n  });\n  console.log(res.data);\n  localStorage.setItem(\"token\", \"Bearer \" + res.data.token);\n  return res.data;\n});\n\nexport const logIn = createAsyncThunk(\"users/login\", async (user) => {\n  console.log(user);\n  const login_URL = \"http://localhost:5001/api/users/login\";\n  let res;\n  try {\n    res = await axios.post(login_URL, {\n      email: user.email,\n      password: user.password,\n    });\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(res);\n  localStorage.setItem(\"token\", \"Bearer \" + res.data.token);\n  return res.data;\n});\n\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState: {\n    currentUser: localStorage.getItem(\"token\") || \"\",\n  },\n  reducers: {\n    logOut: (state) => {\n      state.currentUser = \"\";\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(signUp.pending, (state) => {\n      state.isLoading = true;\n    });\n    builder.addCase(signUp.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.currentUser = action.payload;\n    });\n    builder.addCase(logIn.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.currentUser = action.payload;\n    });\n  },\n});\n\nexport const { logOut } = usersSlice.actions;\nexport default usersSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,MAAM,GAAGH,gBAAgB,CAAC,cAAc,EAAE,MAAOI,IAAI,IAAK;EACrE,MAAMC,UAAU,GAAG,wCAAwC;EAC3D,IAAIC,GAAG;EACP,IAAG,CAEH,CAAC,QAAMC,GAAG,EAAC,CAEX;EACAD,GAAG,GAAG,MAAMJ,KAAK,CAACM,IAAI,CAACH,UAAU,EAAE;IACjCI,IAAI,EAAEL,IAAI,CAACK,IAAI;IACfC,KAAK,EAAEN,IAAI,CAACM,KAAK;IACjBC,QAAQ,EAAEP,IAAI,CAACO;EACjB,CAAC,CAAC;EACFC,OAAO,CAACC,GAAG,CAACP,GAAG,CAACQ,IAAI,CAAC;EACrBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAE,SAAS,GAAGV,GAAG,CAACQ,IAAI,CAACG,KAAK,CAAC;EACzD,OAAOX,GAAG,CAACQ,IAAI;AACjB,CAAC,CAAC;AAEF,OAAO,MAAMI,KAAK,GAAGlB,gBAAgB,CAAC,aAAa,EAAE,MAAOI,IAAI,IAAK;EACnEQ,OAAO,CAACC,GAAG,CAACT,IAAI,CAAC;EACjB,MAAMe,SAAS,GAAG,uCAAuC;EACzD,IAAIb,GAAG;EACP,IAAI;IACFA,GAAG,GAAG,MAAMJ,KAAK,CAACM,IAAI,CAACW,SAAS,EAAE;MAChCT,KAAK,EAAEN,IAAI,CAACM,KAAK;MACjBC,QAAQ,EAAEP,IAAI,CAACO;IACjB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOS,CAAC,EAAE;IACVR,OAAO,CAACC,GAAG,CAACO,CAAC,CAAC;EAChB;EACAR,OAAO,CAACC,GAAG,CAACP,GAAG,CAAC;EAChBS,YAAY,CAACC,OAAO,CAAC,OAAO,EAAE,SAAS,GAAGV,GAAG,CAACQ,IAAI,CAACG,KAAK,CAAC;EACzD,OAAOX,GAAG,CAACQ,IAAI;AACjB,CAAC,CAAC;AAEF,MAAMO,UAAU,GAAGpB,WAAW,CAAC;EAC7BQ,IAAI,EAAE,OAAO;EACba,YAAY,EAAE;IACZC,WAAW,EAAER,YAAY,CAACS,OAAO,CAAC,OAAO,CAAC,IAAI;EAChD,CAAC;EACDC,QAAQ,EAAE;IACRC,MAAM,EAAGC,KAAK,IAAK;MACjBA,KAAK,CAACJ,WAAW,GAAG,EAAE;IACxB;EACF,CAAC;EACDK,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CAACC,OAAO,CAAC3B,MAAM,CAAC4B,OAAO,EAAGJ,KAAK,IAAK;MACzCA,KAAK,CAACK,SAAS,GAAG,IAAI;IACxB,CAAC,CAAC;IACFH,OAAO,CAACC,OAAO,CAAC3B,MAAM,CAAC8B,SAAS,EAAE,CAACN,KAAK,EAAEO,MAAM,KAAK;MACnDP,KAAK,CAACK,SAAS,GAAG,KAAK;MACvBL,KAAK,CAACJ,WAAW,GAAGW,MAAM,CAACC,OAAO;IACpC,CAAC,CAAC;IACFN,OAAO,CAACC,OAAO,CAACZ,KAAK,CAACe,SAAS,EAAE,CAACN,KAAK,EAAEO,MAAM,KAAK;MAClDP,KAAK,CAACK,SAAS,GAAG,KAAK;MACvBL,KAAK,CAACJ,WAAW,GAAGW,MAAM,CAACC,OAAO;IACpC,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAET;AAAO,CAAC,GAAGL,UAAU,CAACe,OAAO;AAC5C,eAAef,UAAU,CAACgB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}