{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const signUp = createAsyncThunk(\"users/signUp\", async user => {\n  const signUp_URL = \"http://localhost:5001/api/users/signUp\";\n  let res;\n  try {\n    res = await axios.post(signUp_URL, {\n      name: user.name,\n      email: user.email,\n      password: user.password\n    });\n    console.log(res.data);\n    localStorage.setItem(\"token\", \"Bearer \" + res.data.token);\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n});\nexport const logIn = createAsyncThunk(\"users/login\", async user => {\n  console.log(user);\n  const login_URL = \"http://localhost:5001/api/users/login\";\n  let res;\n  try {\n    res = await axios.post(login_URL, {\n      email: user.email,\n      password: user.password\n    });\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(res.data.toekn);\n  localStorage.setItem(\"token\", \"Bearer \" + res.data.token);\n  return res.data;\n});\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState: {\n    currentUser: localStorage.getItem(\"token\") || \"\"\n  },\n  reducers: {\n    logOut: state => {\n      state.currentUser = \"\";\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(signUp.pending, state => {\n      state.isLoading = true;\n    });\n    builder.addCase(signUp.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.currentUser = action.payload;\n    });\n    builder.addCase(logIn.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.currentUser = action.payload;\n    });\n  }\n});\nexport const {\n  logOut\n} = usersSlice.actions;\nexport default usersSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","signUp","user","signUp_URL","res","post","name","email","password","console","log","data","localStorage","setItem","token","err","logIn","login_URL","e","toekn","usersSlice","initialState","currentUser","getItem","reducers","logOut","state","extraReducers","builder","addCase","pending","isLoading","fulfilled","action","payload","actions","reducer"],"sources":["/home/sbh/office_Docs/redux_task/client/src/features/users/UserSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nexport const signUp = createAsyncThunk(\"users/signUp\", async (user) => {\n  const signUp_URL = \"http://localhost:5001/api/users/signUp\";\n  let res;\n  try {\n    res = await axios.post(signUp_URL, {\n      name: user.name,\n      email: user.email,\n      password: user.password,\n    });\n    console.log(res.data);\n    localStorage.setItem(\"token\", \"Bearer \" + res.data.token);\n    return res.data;\n  } catch (err) {\n    console.log(err);\n  }\n});\n\nexport const logIn = createAsyncThunk(\"users/login\", async (user) => {\n  console.log(user);\n  const login_URL = \"http://localhost:5001/api/users/login\";\n  let res;\n  try {\n    res = await axios.post(login_URL, {\n      email: user.email,\n      password: user.password,\n    });\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(res.data.toekn);\n  localStorage.setItem(\"token\", \"Bearer \" + res.data.token);\n  return res.data;\n});\n\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState: {\n    currentUser: localStorage.getItem(\"token\") || \"\",\n  },\n  reducers: {\n    logOut: (state) => {\n      state.currentUser = \"\";\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(signUp.pending, (state) => {\n      state.isLoading = true;\n    });\n    builder.addCase(signUp.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.currentUser = action.payload;\n    });\n    builder.addCase(logIn.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.currentUser = action.payload;\n    });\n  },\n});\n\nexport const { logOut } = usersSlice.actions;\nexport default usersSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,MAAM,GAAGH,gBAAgB,CAAC,cAAc,EAAE,MAAOI,IAAI,IAAK;EACrE,MAAMC,UAAU,GAAG,wCAAwC;EAC3D,IAAIC,GAAG;EACP,IAAI;IACFA,GAAG,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAACF,UAAU,EAAE;MACjCG,IAAI,EAAEJ,IAAI,CAACI,IAAI;MACfC,KAAK,EAAEL,IAAI,CAACK,KAAK;MACjBC,QAAQ,EAAEN,IAAI,CAACM;IACjB,CAAC,CAAC;IACFC,OAAO,CAACC,GAAG,CAACN,GAAG,CAACO,IAAI,CAAC;IACrBC,YAAY,CAACC,OAAO,CAAC,OAAO,EAAE,SAAS,GAAGT,GAAG,CAACO,IAAI,CAACG,KAAK,CAAC;IACzD,OAAOV,GAAG,CAACO,IAAI;EACjB,CAAC,CAAC,OAAOI,GAAG,EAAE;IACZN,OAAO,CAACC,GAAG,CAACK,GAAG,CAAC;EAClB;AACF,CAAC,CAAC;AAEF,OAAO,MAAMC,KAAK,GAAGlB,gBAAgB,CAAC,aAAa,EAAE,MAAOI,IAAI,IAAK;EACnEO,OAAO,CAACC,GAAG,CAACR,IAAI,CAAC;EACjB,MAAMe,SAAS,GAAG,uCAAuC;EACzD,IAAIb,GAAG;EACP,IAAI;IACFA,GAAG,GAAG,MAAMJ,KAAK,CAACK,IAAI,CAACY,SAAS,EAAE;MAChCV,KAAK,EAAEL,IAAI,CAACK,KAAK;MACjBC,QAAQ,EAAEN,IAAI,CAACM;IACjB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOU,CAAC,EAAE;IACVT,OAAO,CAACC,GAAG,CAACQ,CAAC,CAAC;EAChB;EACAT,OAAO,CAACC,GAAG,CAACN,GAAG,CAACO,IAAI,CAACQ,KAAK,CAAC;EAC3BP,YAAY,CAACC,OAAO,CAAC,OAAO,EAAE,SAAS,GAAGT,GAAG,CAACO,IAAI,CAACG,KAAK,CAAC;EACzD,OAAOV,GAAG,CAACO,IAAI;AACjB,CAAC,CAAC;AAEF,MAAMS,UAAU,GAAGrB,WAAW,CAAC;EAC7BO,IAAI,EAAE,OAAO;EACbe,YAAY,EAAE;IACZC,WAAW,EAAEV,YAAY,CAACW,OAAO,CAAC,OAAO,CAAC,IAAI;EAChD,CAAC;EACDC,QAAQ,EAAE;IACRC,MAAM,EAAGC,KAAK,IAAK;MACjBA,KAAK,CAACJ,WAAW,GAAG,EAAE;IACxB;EACF,CAAC;EACDK,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CAACC,OAAO,CAAC5B,MAAM,CAAC6B,OAAO,EAAGJ,KAAK,IAAK;MACzCA,KAAK,CAACK,SAAS,GAAG,IAAI;IACxB,CAAC,CAAC;IACFH,OAAO,CAACC,OAAO,CAAC5B,MAAM,CAAC+B,SAAS,EAAE,CAACN,KAAK,EAAEO,MAAM,KAAK;MACnDP,KAAK,CAACK,SAAS,GAAG,KAAK;MACvBL,KAAK,CAACJ,WAAW,GAAGW,MAAM,CAACC,OAAO;IACpC,CAAC,CAAC;IACFN,OAAO,CAACC,OAAO,CAACb,KAAK,CAACgB,SAAS,EAAE,CAACN,KAAK,EAAEO,MAAM,KAAK;MAClDP,KAAK,CAACK,SAAS,GAAG,KAAK;MACvBL,KAAK,CAACJ,WAAW,GAAGW,MAAM,CAACC,OAAO;IACpC,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAET;AAAO,CAAC,GAAGL,UAAU,CAACe,OAAO;AAC5C,eAAef,UAAU,CAACgB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}