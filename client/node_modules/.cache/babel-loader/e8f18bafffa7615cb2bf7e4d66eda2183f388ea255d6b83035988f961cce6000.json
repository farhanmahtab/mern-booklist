{"ast":null,"code":"import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\nexport const signUp = createAsyncThunk(\"users/signUp\", async user => {\n  const signUp_URL = \"http://localhost:5001/api/users/signUp\";\n  let res;\n  try {} catch (err) {}\n});\nexport const logIn = createAsyncThunk(\"users/login\", async user => {\n  console.log(user);\n  const login_URL = \"http://localhost:5001/api/users/login\";\n  let res;\n  try {\n    res = await axios.post(login_URL, {\n      email: user.email,\n      password: user.password\n    });\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(res);\n  localStorage.setItem(\"token\", \"Bearer \" + res.data.token);\n  return res.data;\n});\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState: {\n    currentUser: localStorage.getItem(\"token\") || \"\"\n  },\n  reducers: {\n    logOut: state => {\n      state.currentUser = \"\";\n    }\n  },\n  extraReducers: builder => {\n    builder.addCase(signUp.pending, state => {\n      state.isLoading = true;\n    });\n    builder.addCase(signUp.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.currentUser = action.payload;\n    });\n    builder.addCase(logIn.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.currentUser = action.payload;\n    });\n  }\n});\nexport const {\n  logOut\n} = usersSlice.actions;\nexport default usersSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","axios","signUp","user","signUp_URL","res","err","logIn","console","log","login_URL","post","email","password","e","localStorage","setItem","data","token","usersSlice","name","initialState","currentUser","getItem","reducers","logOut","state","extraReducers","builder","addCase","pending","isLoading","fulfilled","action","payload","actions","reducer"],"sources":["/home/sbh/office_Docs/redux_task/client/src/features/users/UserSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from \"@reduxjs/toolkit\";\nimport axios from \"axios\";\n\nexport const signUp = createAsyncThunk(\"users/signUp\", async (user) => {\n  const signUp_URL = \"http://localhost:5001/api/users/signUp\";\n  let res ;\n  try{\n\n  }catch(err){\n\n  }\n  \n});\n\nexport const logIn = createAsyncThunk(\"users/login\", async (user) => {\n  console.log(user);\n  const login_URL = \"http://localhost:5001/api/users/login\";\n  let res;\n  try {\n    res = await axios.post(login_URL, {\n      email: user.email,\n      password: user.password,\n    });\n  } catch (e) {\n    console.log(e);\n  }\n  console.log(res);\n  localStorage.setItem(\"token\", \"Bearer \" + res.data.token);\n  return res.data;\n});\n\nconst usersSlice = createSlice({\n  name: \"users\",\n  initialState: {\n    currentUser: localStorage.getItem(\"token\") || \"\",\n  },\n  reducers: {\n    logOut: (state) => {\n      state.currentUser = \"\";\n    },\n  },\n  extraReducers: (builder) => {\n    builder.addCase(signUp.pending, (state) => {\n      state.isLoading = true;\n    });\n    builder.addCase(signUp.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.currentUser = action.payload;\n    });\n    builder.addCase(logIn.fulfilled, (state, action) => {\n      state.isLoading = false;\n      state.currentUser = action.payload;\n    });\n  },\n});\n\nexport const { logOut } = usersSlice.actions;\nexport default usersSlice.reducer;\n"],"mappings":"AAAA,SAASA,gBAAgB,EAAEC,WAAW,QAAQ,kBAAkB;AAChE,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,MAAMC,MAAM,GAAGH,gBAAgB,CAAC,cAAc,EAAE,MAAOI,IAAI,IAAK;EACrE,MAAMC,UAAU,GAAG,wCAAwC;EAC3D,IAAIC,GAAG;EACP,IAAG,CAEH,CAAC,QAAMC,GAAG,EAAC,CAEX;AAEF,CAAC,CAAC;AAEF,OAAO,MAAMC,KAAK,GAAGR,gBAAgB,CAAC,aAAa,EAAE,MAAOI,IAAI,IAAK;EACnEK,OAAO,CAACC,GAAG,CAACN,IAAI,CAAC;EACjB,MAAMO,SAAS,GAAG,uCAAuC;EACzD,IAAIL,GAAG;EACP,IAAI;IACFA,GAAG,GAAG,MAAMJ,KAAK,CAACU,IAAI,CAACD,SAAS,EAAE;MAChCE,KAAK,EAAET,IAAI,CAACS,KAAK;MACjBC,QAAQ,EAAEV,IAAI,CAACU;IACjB,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOC,CAAC,EAAE;IACVN,OAAO,CAACC,GAAG,CAACK,CAAC,CAAC;EAChB;EACAN,OAAO,CAACC,GAAG,CAACJ,GAAG,CAAC;EAChBU,YAAY,CAACC,OAAO,CAAC,OAAO,EAAE,SAAS,GAAGX,GAAG,CAACY,IAAI,CAACC,KAAK,CAAC;EACzD,OAAOb,GAAG,CAACY,IAAI;AACjB,CAAC,CAAC;AAEF,MAAME,UAAU,GAAGnB,WAAW,CAAC;EAC7BoB,IAAI,EAAE,OAAO;EACbC,YAAY,EAAE;IACZC,WAAW,EAAEP,YAAY,CAACQ,OAAO,CAAC,OAAO,CAAC,IAAI;EAChD,CAAC;EACDC,QAAQ,EAAE;IACRC,MAAM,EAAGC,KAAK,IAAK;MACjBA,KAAK,CAACJ,WAAW,GAAG,EAAE;IACxB;EACF,CAAC;EACDK,aAAa,EAAGC,OAAO,IAAK;IAC1BA,OAAO,CAACC,OAAO,CAAC3B,MAAM,CAAC4B,OAAO,EAAGJ,KAAK,IAAK;MACzCA,KAAK,CAACK,SAAS,GAAG,IAAI;IACxB,CAAC,CAAC;IACFH,OAAO,CAACC,OAAO,CAAC3B,MAAM,CAAC8B,SAAS,EAAE,CAACN,KAAK,EAAEO,MAAM,KAAK;MACnDP,KAAK,CAACK,SAAS,GAAG,KAAK;MACvBL,KAAK,CAACJ,WAAW,GAAGW,MAAM,CAACC,OAAO;IACpC,CAAC,CAAC;IACFN,OAAO,CAACC,OAAO,CAACtB,KAAK,CAACyB,SAAS,EAAE,CAACN,KAAK,EAAEO,MAAM,KAAK;MAClDP,KAAK,CAACK,SAAS,GAAG,KAAK;MACvBL,KAAK,CAACJ,WAAW,GAAGW,MAAM,CAACC,OAAO;IACpC,CAAC,CAAC;EACJ;AACF,CAAC,CAAC;AAEF,OAAO,MAAM;EAAET;AAAO,CAAC,GAAGN,UAAU,CAACgB,OAAO;AAC5C,eAAehB,UAAU,CAACiB,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}